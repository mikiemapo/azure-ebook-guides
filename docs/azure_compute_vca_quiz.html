<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compute Quiz: VMs, Containers & App Services (AZ-104)</title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --azure-blue: #0078d4;
            --azure-blue-dark: #005a9e;
            --azure-bg-light: #f0f4f8;
            --text-dark: #323130;
            --text-light: #ffffff;
            --border-color: #d1d1d1;
            --card-bg: #ffffff;
            --correct-color: #107c10;
            --incorrect-color: #d83b01;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --quiz-icon-color: #20c997; /* A teal/mint color for this general compute quiz */
            --timer-button-bg: #d83b01;
            --timer-button-hover-bg: #a4262c;
            --info-color: #005a9e; /* For scenario text border */
        }

        body {
            font-family: "Segoe UI", sans-serif;
            background-color: var(--azure-bg-light); margin: 0; padding: 20px;
            color: var(--text-dark); line-height: 1.6;
        }

        .quiz-container {
            max-width: 850px; margin: 20px auto; padding: 25px 35px;
            background-color: var(--card-bg); border: 1px solid var(--border-color);
            border-radius: 8px; box-shadow: 0 2px 10px var(--shadow-color);
        }

        h1 {
            color: var(--azure-blue-dark); text-align: center;
            border-bottom: 2px solid var(--azure-blue);
            padding-bottom: 10px; margin-bottom: 25px;
        }
        h1 i { margin-right: 10px; color: var(--quiz-icon-color); }

        .back-to-hub {
            margin-bottom: 20px; padding: 10px; background-color: #e6f2ff;
            border-radius: 5px; text-align: center;
        }
        .back-to-hub a {
            text-decoration: none; color: #005a9e; font-weight: bold; font-size: 1.1em;
        }
        .back-to-hub a i { margin-right: 8px; }


        .question-block {
            margin-bottom: 30px; padding-bottom: 20px;
            border-bottom: 1px dashed var(--border-color);
        }
        .question-block:last-of-type { border-bottom: none; margin-bottom: 0; }

        .question-text { font-weight: 600; font-size: 1.1em; margin-bottom: 15px; }
        .question-text i { margin-right: 8px; color: var(--quiz-icon-color); }
        .scenario-text {
            font-style: italic;
            background-color: #f9f9f9;
            padding: 10px;
            border-left: 3px solid var(--info-color);
            margin-bottom: 10px;
            font-size: 0.95em;
        }


        .options-list { list-style: none; padding-left: 0; margin: 0; }
        .options-list li {
            margin-bottom: 10px; padding: 10px 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px; cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease;
        }
        .options-list li label {
            display: flex; align-items: center; cursor: pointer;
            width: 100%; font-size: 1em;
        }
        .options-list li input[type="radio"] {
            margin-right: 12px; accent-color: var(--azure-blue); cursor: pointer;
            width: 18px; height: 18px;
        }
        .options-list li:hover { background-color: #eef1f5; border-color: var(--azure-blue); }

        .feedback {
            margin-top: 12px; padding: 10px 15px;
            border-radius: 4px; font-weight: 600; display: none; font-size: 0.95em;
        }
        .feedback.correct {
            background-color: #e7f3e7; border: 1px solid var(--correct-color); color: var(--correct-color);
        }
        .feedback.incorrect {
            background-color: #fdeceb; border: 1px solid var(--incorrect-color); color: var(--incorrect-color);
        }
        .feedback i { margin-right: 8px; }
        .feedback .review-hint {
            display: block;
            font-size: 0.9em;
            font-weight: normal;
            margin-top: 8px;
            color: #555;
        }
        .feedback .review-hint strong { color: var(--azure-blue-dark); }


        .options-list li.correct-answer-highlight { background-color: #d4edda !important; border-color: var(--correct-color) !important; font-weight: bold; }
        .options-list li.incorrect-selection-highlight { background-color: #f8d7da !important; border-color: var(--incorrect-color) !important; opacity: 0.8; }

        .sticky-footer {
            position: sticky;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            padding: 15px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .timer-button-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #check-answers-btn {
            padding: 12px 25px;
            font-size: 1.15em;
            font-weight: bold;
            color: var(--text-light);
            background-color: var(--timer-button-bg);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            min-width: 180px;
        }
        #check-answers-btn:hover { background-color: var(--timer-button-hover-bg); }
        #check-answers-btn:disabled { background-color: #c0392b; opacity: 0.7; cursor: not-allowed; }

        #timer-display {
            font-size: 0.9em;
            color: var(--text-dark);
            margin-top: 8px;
            font-weight: 500;
        }
        #timer-display.active { color: var(--incorrect-color); font-weight: bold;}


        #score-area {
            text-align: center; font-size: 1.2em; font-weight: bold; margin-top: 30px; padding: 15px;
            background-color: #e6f2ff;
            border-radius: 6px; border: 1px solid var(--azure-blue);
            display: none;
        }
        #score-area i { margin-right: 8px; color: var(--azure-blue); }
    </style>
<script src="shared-navbar.js"></script>
</head>
<body>

    <div class="quiz-container">
        <h1><i class="fas fa-laptop-code"></i>Compute Quiz: VMs, Containers & App Services</h1>
        <div class="back-to-hub">
            <a href="index.html"><i class="fas fa-arrow-left"></i>Back to Study Hub</a>
        </div>

        <form id="quiz-form">

            <!-- Question 1: VMs - Availability -->
            <div class="question-block" data-question-id="q1_vm_availability" data-correct-answer="availability_zones" data-review-topic="VM Availability (Deep Dive Guide)">
                <p class="question-text"><i class="fas fa-shield-alt"></i>You are deploying a critical application on two Azure VMs. The application must remain available even if an entire Azure datacenter within a region fails. Which Azure VM availability solution should you configure to meet this requirement?</p>
                <ul class="options-list">
                    <li><label><input type="radio" name="q1_vm_availability" value="availability_set"> A) Availability Set</label></li>
                    <li><label><input type="radio" name="q1_vm_availability" value="availability_zones"> B) Availability Zones</label></li>
                    <li><label><input type="radio" name="q1_vm_availability" value="proximity_group"> C) Proximity Placement Group</label></li>
                    <li><label><input type="radio" name="q1_vm_availability" value="site_recovery"> D) Azure Site Recovery</label></li>
                </ul>
                <div class="feedback"></div>
            </div>

            <!-- Question 2: VMSS - Orchestration -->
            <div class="question-block" data-question-id="q2_vmss_orchestration" data-correct-answer="flexible_orchestration" data-review-topic="Azure VM Scale Sets (VMSS) Guide">
                <p class="question-text"><i class="fas fa-layer-group"></i>You need to deploy a set of VMs using Azure Virtual Machine Scale Sets (VMSS). Some VMs in the set require a specific custom image, while others can use a standard Marketplace image. All VMs will be managed as part of the same logical set but might have different configurations beyond just the image (e.g., different startup scripts or extensions). Which VMSS orchestration mode would allow for this level of instance heterogeneity?</p>
                <ul class="options-list">
                    <li><label><input type="radio" name="q2_vmss_orchestration" value="uniform_orchestration"> A) Uniform Orchestration Mode</label></li>
                    <li><label><input type="radio" name="q2_vmss_orchestration" value="flexible_orchestration"> B) Flexible Orchestration Mode</label></li>
                    <li><label><input type="radio" name="q2_vmss_orchestration" value="standard_orchestration"> C) Standard Orchestration Mode</label></li>
                    <li><label><input type="radio" name="q2_vmss_orchestration" value="mixed_orchestration"> D) Mixed Orchestration Mode</label></li>
                </ul>
                <div class="feedback"></div>
            </div>

            <!-- Question 3: Containers - ACI vs AKS -->
            <div class="question-block" data-question-id="q3_container_choice" data-correct-answer="aci_simple_fast" data-review-topic="Containers (ACI/AKS) Guide or Azure Compute Options Guide">
                <p class="question-text"><i class="fas fa-box-open"></i>You have a containerized web application that you need to deploy quickly for a short-term marketing campaign. The application is stateless and does not require complex orchestration features like service discovery or automated rollouts. You want the simplest and fastest way to get the container running with minimal management overhead. Which Azure container service is most suitable for this scenario?</p>
                <ul class="options-list">
                    <li><label><input type="radio" name="q3_container_choice" value="aks_robust"> A) Azure Kubernetes Service (AKS) for its robust features and scaling capabilities.</label></li>
                    <li><label><input type="radio" name="q3_container_choice" value="aci_simple_fast"> B) Azure Container Instances (ACI) for its simplicity, per-second billing, and fast startup.</label></li>
                    <li><label><input type="radio" name="q3_container_choice" value="app_service_cicd"> C) Azure App Service for Containers for its integrated CI/CD and custom domain features.</label></li>
                    <li><label><input type="radio" name="q3_container_choice" value="vm_docker_control"> D) A Virtual Machine with Docker installed for maximum control over the container environment.</label></li>
                </ul>
                <div class="feedback"></div>
            </div>

            <!-- Question 4: App Services - Deployment Slots -->
            <div class="question-block" data-question-id="q4_appservice_slots" data-correct-answer="deployment_slots" data-review-topic="Azure App Service Features">
                <div class="scenario-text">
                    Scenario: You manage a critical production web application hosted on Azure App Service (Standard tier or higher). You need to test a new version of the application with a specific URL before swapping it into production, ensuring no downtime for the live application.
                </div>
                <p class="question-text"><i class="fas fa-exchange-alt"></i>Which Azure App Service feature allows you to deploy the new version to a separate environment, test it, and then seamlessly swap it with the production version?</p>
                <ul class="options-list">
                    <li><label><input type="radio" name="q4_appservice_slots" value="scale_out_plan"> A) Scaling out the App Service Plan</label></li>
                    <li><label><input type="radio" name="q4_appservice_slots" value="deployment_slots"> B) Deployment Slots</label></li>
                    <li><label><input type="radio" name="q4_appservice_slots" value="webjobs_bg"> C) WebJobs for background processing</label></li>
                    <li><label><input type="radio" name="q4_appservice_slots" value="app_insights_perf"> D) Application Insights for performance monitoring</label></li>
                </ul>
                <div class="feedback"></div>
            </div>

            <!-- Question 5: App Services - Plans -->
            <div class="question-block" data-question-id="q5_appservice_plans" data-correct-answer="free_shared" data-review-topic="App Service Plans">
                 <div class="scenario-text">
                    Scenario: Your company is deploying several small, non-production web apps for internal testing and development purposes. Cost optimization is a primary concern, and these apps do not require features like custom domains, SSL certificates, auto-scaling, or deployment slots.
                </div>
                <p class="question-text"><i class="fas fa-dollar-sign"></i>Which App Service Plan pricing tier would be the most appropriate and cost-effective for these web apps?</p>
                <ul class="options-list">
                    <li><label><input type="radio" name="q5_appservice_plans" value="standard_tier"> A) Standard</label></li>
                    <li><label><input type="radio" name="q5_appservice_plans" value="premium_tier"> B) Premium</label></li>
                    <li><label><input type="radio" name="q5_appservice_plans" value="free_shared"> C) Free or Shared</label></li>
                    <li><label><input type="radio" name="q5_appservice_plans" value="isolated_tier"> D) Isolated</label></li>
                </ul>
                <div class="feedback"></div>
            </div>

        </form>
        <!-- Score area will be inserted here by JS -->
    </div>

    <div class="sticky-footer">
        <div class="timer-button-container">
            <button type="button" id="check-answers-btn">Check Answers</button>
            <div id="timer-display">Timer: 00:00</div>
        </div>
    </div>

    <script>
        const quizForm = document.getElementById('quiz-form');
        const checkAnswersBtn = document.getElementById('check-answers-btn');
        const questionBlocks = document.querySelectorAll('.question-block');
        const timerDisplay = document.getElementById('timer-display');

        let timerInterval = null;
        let secondsElapsed = 0;
        let timerStarted = false;
        let scoreArea = null; 

        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function startTimer() {
            if (timerStarted) return;
            timerStarted = true;
            timerDisplay.classList.add('active');
            timerInterval = setInterval(() => {
                secondsElapsed++;
                timerDisplay.textContent = `Timer: ${formatTime(secondsElapsed)}`;
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timerInterval);
            timerDisplay.classList.remove('active');
        }

        quizForm.addEventListener('click', function(event) {
            if (event.target.type === 'radio' && !timerStarted && !checkAnswersBtn.disabled) {
                startTimer();
            }
        });

        checkAnswersBtn.addEventListener('click', () => {
            if (!timerStarted && questionBlocks.length > 0) {
                startTimer(); 
            }
            stopTimer();

            let score = 0;
            const totalQuestions = questionBlocks.length;

            questionBlocks.forEach(block => {
                const questionId = block.dataset.questionId;
                const correctAnswer = block.dataset.correctAnswer;
                const reviewTopic = block.dataset.reviewTopic || "the relevant study guide";
                const feedbackEl = block.querySelector('.feedback');
                const optionsList = block.querySelector('.options-list');
                const selectedOptionInput = optionsList.querySelector(`input[name="${questionId}"]:checked`);

                optionsList.querySelectorAll('li').forEach(li => {
                    li.classList.remove('correct-answer-highlight', 'incorrect-selection-highlight');
                });

                if (selectedOptionInput) {
                    const userAnswer = selectedOptionInput.value;
                    const selectedLi = selectedOptionInput.closest('li');
                    const correctLi = optionsList.querySelector(`input[value="${correctAnswer}"]`)?.closest('li');

                    if (userAnswer === correctAnswer) {
                        score++;
                        feedbackEl.innerHTML = `<i class="fas fa-check-circle"></i> Correct!`;
                        feedbackEl.className = 'feedback correct';
                        selectedLi.classList.add('correct-answer-highlight');
                    } else {
                        feedbackEl.innerHTML = `<i class="fas fa-times-circle"></i> Incorrect. 
                                                <span class="review-hint">Hint: The correct answer is highlighted in green. Please review <strong>${reviewTopic}</strong>.</span>`;
                        feedbackEl.className = 'feedback incorrect';
                        selectedLi.classList.add('incorrect-selection-highlight');
                        if (correctLi) {
                            correctLi.classList.add('correct-answer-highlight');
                        }
                    }
                } else {
                    feedbackEl.innerHTML = `<i class="fas fa-exclamation-triangle"></i> Please select an answer. 
                                            <span class="review-hint">Review <strong>${reviewTopic}</strong> for this concept.</span>`;
                    feedbackEl.className = 'feedback incorrect';
                     const correctLi = optionsList.querySelector(`input[value="${correctAnswer}"]`)?.closest('li');
                     if (correctLi) {
                        correctLi.classList.add('correct-answer-highlight');
                    }
                }
                feedbackEl.style.display = 'block';
            });

            if (!scoreArea) {
                scoreArea = document.createElement('div');
                scoreArea.id = 'score-area';
                const container = document.querySelector('.quiz-container');
                container.appendChild(scoreArea);
            }
            
            scoreArea.innerHTML = `<i class="fas fa-star"></i> Your Score: ${score} out of ${totalQuestions} in ${formatTime(secondsElapsed)}`;
            scoreArea.style.display = 'block';

            checkAnswersBtn.disabled = true;
            checkAnswersBtn.textContent = 'Answers Checked';
            
            quizForm.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.disabled = true;
            });
        });
    </script>

</body>
</html>